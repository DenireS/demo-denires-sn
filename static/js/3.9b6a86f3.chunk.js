(this["webpackJsonpreact-1"]=this["webpackJsonpreact-1"]||[]).push([[3],{298:function(e,a,t){e.exports={dialogs:"Dialogs_dialogs__1PoEC",dialogs__item:"Dialogs_dialogs__item__3XPTy",dialog:"Dialogs_dialog__31Tr1",dialog__name:"Dialogs_dialog__name__kHnAw",activeLink:"Dialogs_activeLink__3nhdI",messages:"Dialogs_messages__2vLQu",message:"Dialogs_message__AuSIq",post:"Dialogs_post__1tN8A"}},299:function(e,a,t){e.exports={chat:"DialogChat_chat__3jMcw",messages:"DialogChat_messages__3TRMy",message:"DialogChat_message__3xB4P",show:"DialogChat_show__2av9d"}},300:function(e,a,t){"use strict";t.r(a);var s=t(30),n=t(31),r=t(33),i=t(32),o=t(0),c=t.n(o),l=t(130),u=t(298),m=t.n(u),g=t(14);var d=function(e){return c.a.createElement("div",{className:m.a.dialog},c.a.createElement("img",{src:e.img}),c.a.createElement("div",{className:m.a.dialog__name,onClick:function(){e.setCurrentChat(e.id)}},c.a.createElement(g.b,{to:"/dialogs/"+e.id,activeClassName:m.a.activeLink},e.name)))},h=function(e){var a=e.users.map((function(a){return c.a.createElement(d,Object.assign({name:a.userName,key:a.id,id:a.id,img:a.photo},e))}));return c.a.createElement("div",{className:m.a.dialogs},c.a.createElement("div",{className:m.a.dialogs__item},a))},p=t(13),_=t(10),f=function(e){return{isAuth:e.auth.isAuth}},v=t(8),b=t(27),E=t(299),C=t.n(E);var D=function(e){return c.a.createElement("div",{className:C.a.message},e.message)},y=t(40),j=t(42),O=t(131),k=t(132);var M=Object(y.a)("textarea"),N=Object(j.a)(10),w=Object(k.a)({form:"dialogAddMessageForm"})((function(e){return c.a.createElement("form",{onSubmit:e.handleSubmit},c.a.createElement("div",null,c.a.createElement(O.a,{component:M,validate:[j.b,N],name:"newMessageBody",placeholder:"Enter your message"})),c.a.createElement("div",null,c.a.createElement("button",null,"Add Message")))})),A=function(e){var a=e.messages.map((function(e){return c.a.createElement(D,{message:e.body,key:e.id})}));return c.a.createElement("div",null,c.a.createElement("div",{className:C.a.chat},c.a.createElement("div",{className:C.a.messages},a),c.a.createElement(w,{onSubmit:function(a){e.sendMessage(e.currentChat,a.newMessageBody),a.newMessageBody=null}})))},P=function(e){Object(r.a)(t,e);var a=Object(i.a)(t);function t(){return Object(s.a)(this,t),a.apply(this,arguments)}return Object(n.a)(t,[{key:"refreshDialogs",value:function(){if(!this.props.isAuth)return c.a.createElement(_.a,{to:"/login"});var e=this.props.match.params.userId;e?(this.props.requestMessages(e),this.props.setCurrentChat(e)):(this.props.history.push("/dialogs"),this.props.requestDialogs())}},{key:"componentDidMount",value:function(){this.refreshDialogs()}},{key:"componentDidUpdate",value:function(e,a,t){this.props.match.params.userId!==e.match.params.userId&&this.refreshDialogs()}},{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,this.props.isFetching?c.a.createElement(b.a,null):null,this.props.match.params.userId?c.a.createElement(A,this.props):c.a.createElement(h,this.props))}}]),t}(c.a.PureComponent);a.default=Object(v.d)(Object(p.b)((function(e){return{users:e.dialogsPage.users,messages:e.dialogsPage.messages,isFetching:e.dialogsPage.isFetching,currentChat:e.dialogsPage.currentChat}}),{sendMessage:l.d,requestDialogs:l.b,startChatting:l.f,setCurrentChat:l.e,requestMessages:l.c}),(function(e){var a=function(a){Object(r.a)(o,a);var t=Object(i.a)(o);function o(){return Object(s.a)(this,o),t.apply(this,arguments)}return Object(n.a)(o,[{key:"render",value:function(){return this.props.isAuth?c.a.createElement(e,this.props):c.a.createElement(_.a,{to:"/login"})}}]),o}(c.a.Component);return Object(p.b)(f)(a)}),_.g)(P)}}]);
//# sourceMappingURL=3.9b6a86f3.chunk.js.map